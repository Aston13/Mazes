#!/bin/sh
# Pre-push hook: run tests before pushing to catch regressions early.
# Install: copy or symlink to .git/hooks/pre-push
#   cp scripts/pre-push .git/hooks/pre-push
#   chmod +x .git/hooks/pre-push

cd MazeGame || exit 0

echo "Running tests before push..."
./gradlew test --quiet 2>/dev/null
if [ $? -ne 0 ]; then
    echo ""
    echo "❌ Tests failed. Push aborted."
    echo "   Run: cd MazeGame && ./gradlew test"
    echo ""
    exit 1
fi

echo "✅ All tests passed."
